/**
 * @file ptrdiff.h
 * @brief Определяет независимый от платформы тип разности указателей и связанные макросы.
 *
 * Этот заголовочный файл предоставляет макросы и определения типов
 * для работы с разностями указателей независимо от платформы.
 *
 * Включает:
 * - Макросы для определения размера (`VI_PTRDIFF_T_SIZE`), минимального (`VI_PTRDIFF_T_MIN`),
 *   и максимального (`VI_PTRDIFF_T_MAX`) значений типа `ptrdiff_t`,
 *   которые основаны на `intptr_t` и `sintptr_t`.
 *
 * - Определение типа для `vi_ptrdiff_t`,
 *   используемого для представления разности между двумя указателями.
 *
 *   Он определяется как `vi_sintptr_t`,
 *   знаковый целочисленный тип, который может хранить разности указателей.
 *
 * Эти определения обеспечивают согласованное выполнение операций
 * арифметики указателей на различных платформах и архитектурах.
 */

#ifndef VI_PTRDIFF_H
#define VI_PTRDIFF_H

#include "intptr.h"

/**
 * @def VI_PTRDIFF_T_SIZE
 * @brief Макрос, определяющий размер `ptrdiff_t`.
 *
 * Этот макрос устанавливает размер типа `ptrdiff_t`, равный
 * размеру `intptr_t`, который является платформо-зависимым целочисленным типом,
 * способным хранить указатель.
 */
#define VI_PTRDIFF_T_SIZE VI_INTPTR_T_SIZE

/**
 * @def VI_PTRDIFF_T_MIN
 * @brief Макрос, определяющий минимальное значение `ptrdiff_t`.
 *
 * Этот макрос устанавливает минимальное значение для типа `ptrdiff_t`, равное
 * минимальному значению `sintptr_t`, который является знаковым целочисленным типом,
 * способным хранить указатель.
 */
#define VI_PTRDIFF_T_MIN VI_SINTPTR_T_MIN

/**
 * @def VI_PTRDIFF_T_MAX
 * @brief Макрос, определяющий максимальное значение `ptrdiff_t`.
 *
 * Этот макрос устанавливает максимальное значение для типа `ptrdiff_t`, равное
 * максимальному значению `sintptr_t`, который является знаковым целочисленным типом,
 * способным хранить указатель.
 */
#define VI_PTRDIFF_T_MAX VI_SINTPTR_T_MAX

/**
 * @typedef vi_ptrdiff_t
 * @brief Определение типа для вычислений разности указателей.
 *
 * `vi_ptrdiff_t` определяется как `vi_sintptr_t`, который является знаковым целочисленным типом,
 * способным хранить разность между двумя указателями. Он используется для представления
 * результатов арифметики указателей, таких как смещение между двумя адресами памяти.
 *
 * Этот тип обычно используется в ситуациях, связанных с вычитанием указателей или
 * вычислениями, которые требуют измерения расстояния между адресами памяти.
 */
typedef vi_sintptr_t vi_ptrdiff_t;

#endif // VI_PTRDIFF_H
